{"version":3,"sources":["components/MovieDetailsPage/routes.js","components/MovieDetailsPage/index.jsx"],"names":["path","label","isExact","component","lazy","MovieDetailsPage","state","details","imagePath","handleBackButton","props","history","goBack","getReleaseYear","release_date","split","getGenres","genres","map","item","key","id","name","getMovieDetails","this","match","params","movieDetails","configurations","JSON","parse","window","localStorage","getItem","setState","images","base_url","poster_sizes","console","error","className","type","onClick","src","poster_path","alt","original_title","vote_average","overview","routes","url","to","pathname","Component","exact"],"mappings":"sQAUe,GACb,CACEA,KAAM,QACNC,MAAO,OACPC,SAAS,EACTC,UAbSC,gBAAK,kBAChB,iCAcA,CACEJ,KAAM,WACNC,MAAO,UACPC,SAAS,EACTC,UAfYC,gBAAK,kBACnB,kCCAIC,E,4MACJC,MAAQ,CACNC,QAAS,GACTC,UAAW,I,EAabC,iBAAmB,WACjB,EAAKC,MAAMC,QAAQC,U,EAGrBC,eAAiB,WACf,GAAI,EAAKP,MAAMC,QAAQO,aACrB,OAAO,EAAKR,MAAMC,QAAQO,aAAaC,MAAM,KAAK,I,EAItDC,UAAY,WACV,GAAI,EAAKV,MAAMC,QAAQU,OACrB,OAAO,EAAKX,MAAMC,QAAQU,OAAOC,KAAI,SAACC,GAAD,OACnC,0BAAMC,IAAKD,EAAKE,IAAKF,EAAKG,KAA1B,S,6MArByBC,YAAgBC,KAAKd,MAAMe,MAAMC,OAAOL,I,OAA7DM,E,OACAC,EAAiBC,KAAKC,MAAMC,OAAOC,aAAaC,QAAQ,mBAC9DT,KAAKU,SAAS,CAAE3B,QAASoB,EAAcnB,UAAU,GAAD,OAAKoB,EAAeO,OAAOC,UAA3B,OAAsCR,EAAeO,OAAOE,aAAa,M,gDAEzHC,QAAQC,MAAR,M,8IAsBM,IACAd,EAAUD,KAAKd,MAAfe,MACR,OACE,yBAAKe,UAAU,gBACb,yBAAKA,UAAU,kCACb,4BAAQA,UAAU,yBAAyBC,KAAK,SAASC,QAASlB,KAAKf,kBAAvE,YAGF,yBAAK+B,UAAU,yBACb,yBAAKA,UAAU,6BACb,yBACEG,IAAG,UAAKnB,KAAKlB,MAAME,WAAhB,OAA4BgB,KAAKlB,MAAMC,QAAQqC,aAClDC,IAAKrB,KAAKlB,MAAMC,QAAQuC,eACxBN,UAAU,uBAGd,yBAAKA,UAAU,4BACb,wBAAIA,UAAU,uBAAuBhB,KAAKlB,MAAMC,QAAQuC,eAAxD,KAA0EtB,KAAKX,iBAA/E,KACA,uBAAG2B,UAAU,2BAAb,cAAqF,GAAlChB,KAAKlB,MAAMC,QAAQwC,aAAtE,KACA,wBAAIP,UAAU,0BAAd,YACA,uBAAGA,UAAU,0BAA0BhB,KAAKlB,MAAMC,QAAQyC,UAC1D,wBAAIR,UAAU,0BAAd,UACA,uBAAGA,UAAU,wBAAwBhB,KAAKR,eAG9C,6BACE,qDACA,4BACGiC,EAAO/B,KAAI,gBAAGlB,EAAH,EAAGA,KAAMC,EAAT,EAASA,MAAT,EAAgBE,UAAhB,OACV,wBAAIiB,IAAG,UAAKK,EAAMyB,KAAX,OAAiBlD,IACtB,kBAAC,IAAD,CAAMmD,GAAI,CACRC,SAAS,GAAD,OAAK3B,EAAMyB,KAAX,OAAiBlD,KACvBC,QAIZ,6BACCgD,EAAO/B,KAAI,gBAAGlB,EAAH,EAAGA,KAAME,EAAT,EAASA,QAAoBmD,EAA7B,EAAkBlD,UAAlB,OACV,kBAAC,IAAD,CACEH,KAAI,UAAKyB,EAAMyB,KAAX,OAAiBlD,GACrBsD,MAAOpD,EACPC,UAAWkD,EACXjC,IAAG,UAAKK,EAAMyB,KAAX,OAAiBlD,a,GA5EDqD,aAoFhBhD","file":"static/js/movie-datails-page.ab637cc7.chunk.js","sourcesContent":["import { lazy } from 'react';\n\nconst Cast = lazy(() =>\n  import('./Cast' /* webpackChunkName: \"movied-details-cast\" */),\n);\n\nconst Reviews = lazy(() =>\n  import('./Reviews' /* webpackChunkName: \"movied-details-reviews\" */),\n);\n\nexport default [\n  {\n    path: '/cast',\n    label: 'Cast',\n    isExact: true,\n    component: Cast,\n  },\n  {\n    path: '/reviews',\n    label: 'Reviews',\n    isExact: true,\n    component: Reviews,\n  },\n];\n","import React, { Component } from 'react';\nimport './styles.scss';\nimport { getMovieDetails } from '../../api/movies';\nimport { Link } from 'react-router-dom';\nimport { Route } from 'react-router-dom';\nimport routes from './routes';\n\nclass MovieDetailsPage extends Component {\n  state = {\n    details: {},\n    imagePath: '',\n  }\n\n  async componentDidMount() {\n    try {\n      const movieDetails = await getMovieDetails(this.props.match.params.id);\n      const configurations = JSON.parse(window.localStorage.getItem('configurations'));\n      this.setState({ details: movieDetails, imagePath: `${configurations.images.base_url}${configurations.images.poster_sizes[3]}` });\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  handleBackButton = () => {\n    this.props.history.goBack();\n  }\n\n  getReleaseYear = () => {\n    if (this.state.details.release_date) {\n      return this.state.details.release_date.split('-')[0];\n    }\n  }\n\n  getGenres = () => {\n    if (this.state.details.genres) {\n      return this.state.details.genres.map((item) => (\n        <span key={item.id}>{item.name} </span>\n      ));\n    }\n  }\n\n  render() {\n    const { match } = this.props;\n    return (\n      <div className=\"details-page\">\n        <div className=\"details-page__back-btn-wrapper\">\n          <button className=\"details-page__back-btn\" type=\"button\" onClick={this.handleBackButton}>Go back</button>\n        </div>\n\n        <div className=\"details-page__content\">\n          <div className=\"details-page__img-wrapper\">\n            <img\n              src={`${this.state.imagePath}${this.state.details.poster_path}`}\n              alt={this.state.details.original_title}\n              className=\"details-page__img\"\n            />\n          </div>\n          <div className=\"details-page__movie-info\">\n            <h2 className=\"details-page__title\">{this.state.details.original_title} ({this.getReleaseYear()})</h2>\n            <p className=\"details-page__user-rate\">User rate: {this.state.details.vote_average * 10}%</p>\n            <h4 className=\"details-page__subtitle\">Overview</h4>\n            <p className=\"details-page__overview\">{this.state.details.overview}</p>\n            <h4 className=\"details-page__subtitle\">Genres</h4>\n            <p className=\"details-page__genres\">{this.getGenres()}</p>\n          </div>\n        </div>\n        <hr/>\n          <p>Additional information</p>\n          <ul>\n            {routes.map(({ path, label, component: Component }) => (\n              <li key={`${match.url}${path}`}>\n                <Link to={{\n                  pathname: `${match.url}${path}`,\n                }}>{label}</Link>\n              </li>\n            ))}\n          </ul>\n        <hr/>\n        {routes.map(({ path, isExact, component: Component }) => (\n          <Route\n            path={`${match.url}${path}`}\n            exact={isExact}\n            component={Component}\n            key={`${match.url}${path}`}\n          />\n        ))}\n      </div>\n    )\n  }\n}\n\nexport default MovieDetailsPage;\n"],"sourceRoot":""}